# Risk Profile: Story 1.1 - Project & Database Setup

Date: 2025-09-04  
Reviewer: Quinn (Test Architect)  
Story ID: 1.1  

## Executive Summary

- Total Risks Identified: 5
- Critical Risks: 0  
- High Risks: 2
- Medium Risks: 1
- Low Risks: 2
- **Risk Score: 79/100** (Good - some concerns to address)

## High Risks Requiring Attention

### TECH-001: SQLite Schema Design Flaws
**Score: 6 (High)**  
**Probability**: Medium (2) - Initial schemas often have design issues that surface later  
**Impact**: High (3) - Schema changes after data exists require complex migrations and potential data handling issues  

**Mitigation**:
- Review schema design against anticipated data volumes and query patterns
- Add proper foreign key constraints and indexes from the start  
- Plan for future schema evolution and migration strategy
- Consider using database design tools or peer review for schema validation

**Testing Focus**: Database constraint testing, foreign key validation, index performance testing

### SEC-001: Database File Security  
**Score: 6 (High)**  
**Probability**: High (3) - SQLite files are commonly misconfigured in web applications  
**Impact**: Medium (2) - Full database exposure if file is accessible via HTTP requests

**Mitigation**:
- Place SQLite database file outside web root directory
- Set restrictive file permissions (600 or 640)  
- Add .htaccess or web server rules to deny direct access
- Document secure deployment practices

**Testing Focus**: Direct file access testing, security scanning, permission validation

## Risk Distribution

### By Category
- Technical: 2 risks (1 high, 1 medium)
- Security: 1 risk (1 high)  
- Operational: 1 risk (1 low)
- Data: 1 risk (1 low)
- Performance: 0 risks
- Business: 0 risks

### By Component
- Database: 2 risks (1 high, 1 low)
- Repository/Structure: 2 risks (1 medium, 1 low) 
- Web Security: 1 risk (1 high)

## Detailed Risk Register

| Risk ID  | Category | Description | Probability | Impact | Score | Priority |
|----------|----------|-------------|-------------|--------|-------|----------|
| TECH-001 | Technical | SQLite schema design flaws | Medium (2) | High (3) | 6 | High |
| SEC-001 | Security | Database file security | High (3) | Medium (2) | 6 | High |
| TECH-002 | Technical | Repository structure inadequacy | Medium (2) | Medium (2) | 4 | Medium |
| OPS-001 | Operational | Git repository setup issues | Low (1) | High (3) | 3 | Low |
| DATA-001 | Data | Initial data loss risk | Low (1) | Medium (2) | 2 | Low |

## Risk-Based Testing Strategy

### Priority 1: Critical Risk Tests
- **Database Security Testing**: Attempt direct HTTP access to database file
- **Schema Validation Testing**: Test all table constraints, foreign keys, and indexes
- **File Permission Testing**: Verify database file has appropriate restrictions

### Priority 2: High Risk Tests  
- **Structure Compliance Testing**: Validate folder organization follows PHP conventions
- **Basic Application Testing**: Ensure application loads without errors after setup

### Priority 3: Medium/Low Risk Tests
- **Git Functionality Testing**: Verify repository operations work correctly
- **Database Recreation Testing**: Test schema creation and initialization scripts
- **Backup/Recovery Testing**: Validate database can be backed up and restored

## Risk Acceptance Criteria

### Must Fix Before Production
- SEC-001: Database file must be secured outside web root
- TECH-001: Schema design must be reviewed and validated

### Can Deploy with Mitigation  
- TECH-002: Repository structure can evolve but should follow basic conventions
- OPS-001: Git setup can be refined during development

### Accepted Risks
- DATA-001: Low probability of data loss during initial setup phase acceptable

## Monitoring Requirements

Post-implementation monitoring for:
- File system permissions on database file
- Database schema performance as data grows
- Repository structure maintainability as features are added
- Git workflow effectiveness during team collaboration

## Risk Review Triggers

Review and update risk profile when:
- Database schema changes are required
- New developers join project
- Production deployment approaches  
- Security requirements change
- Performance issues emerge with database operations

## Mitigation Action Plan

### Immediate Actions (Before Acceptance)
1. **Database Security**: Move SQLite file outside public directory
2. **Schema Review**: Conduct thorough review of table design and constraints
3. **Permission Setup**: Configure proper file system permissions

### Development Phase Actions  
1. **Structure Validation**: Ensure PHP project follows established conventions
2. **Git Configuration**: Setup proper .gitignore and repository rules
3. **Documentation**: Document database setup and security procedures

### Ongoing Monitoring
1. **Schema Evolution**: Plan for future database changes
2. **Security Validation**: Regular security scans of file permissions
3. **Structure Maintenance**: Keep project organization clean as features grow